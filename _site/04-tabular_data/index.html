















<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2019-03-06 17:05:53 -0500">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/favicons/swc/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/favicons/swc/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/favicons/swc/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/favicons/swc/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../assets/favicons/swc/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../assets/favicons/swc/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../assets/favicons/swc/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../assets/favicons/swc/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Software Carpentry - Scientific Programming for Computational Molecular Science"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="../assets/favicons/swc/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="../assets/favicons/swc/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="../assets/favicons/swc/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="../assets/favicons/swc/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="../assets/favicons/swc/mstile-310x310.png" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <title>Scientific Programming for Computational Molecular Science: Working with Tabular Data</title>
  </head>
  <body>

    


<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body pre-alpha">
    This lesson is still being designed and assembled (Pre-Alpha version)
  </div>
</div>





    <div class="container">
      






<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      <a href="http://molssi.org/" class="pull-left">
        <img class="navbar-logo" src="../assets/img/molssi_main_logo.png" alt="The Molecular Sciences Software Institute" />
      </a>

      
      <a class="navbar-brand" href="../index.html">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>

        
	
        <li><a href="../setup.html">Setup</a></li>

        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="../01-introduction/index.html">Introduction</a></li>
            
            <li><a href="../02-file_parsing/index.html">File Parsing</a></li>
            
            <li><a href="../03-multiple_files/index.html">Processing Multiple Files and Writing Files</a></li>
            
            <li><a href="../04-tabular_data/index.html">Working with Tabular Data</a></li>
            
            <li><a href="../05-plotting/index.html">Plotting and Data Visualization</a></li>
            
            <li><a href="../06-functions/index.html">Writing Functions</a></li>
            
            <li><a href="../07-command_line/index.html">Running code from the Linux Command Line</a></li>
            
            <li><a href="../08-testing/index.html">Testing Code</a></li>
            
            <li><a href="../09-git/index.html">Version Control and Sharing Code</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio.html">All in one page (Beta)</a></li>
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
            <li><a href="../about/index.html">About</a></li>
            
            <li><a href="../discuss/index.html">Discussion</a></li>
            
            <li><a href="../figures/index.html">Figures</a></li>
            
            <li><a href="../guide/index.html">Instructor Notes</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="../LICENSE.html">License</a></li>
	
	<li><a href="/edit//_episodes/04-tabular_data.md">Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>

















<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../03-multiple_files/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
    <h3 class="maintitle"><a href="../">Scientific Programming for Computational Molecular Science</a></h3>
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../05-plotting/index.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>

<article>
<div class="row">
  <div class="col-md-1">
  </div>
  <div class="col-md-10">
    <h1 class="maintitle">Working with Tabular Data</h1>
  </div>
  <div class="col-md-1">
  </div>
</div>


<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 45 min
      <br/>
      <strong>Exercises:</strong> 60 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>How do I work with numerical data presented in tables?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Use functions in <code class="highlighter-rouge">numpy</code> to read in tabular data.</p>
</li>
	
	<li><p>Take 2D slices of data in numpy arrays.</p>
</li>
	
	<li><p>Use 2D slices to work with particular rows or columns of data.</p>
</li>
	
	<li><p>Use the <code class="highlighter-rouge">range()</code> function in <code class="highlighter-rouge">for</code> loops.</p>
</li>
	
	<li><p>Use <code class="highlighter-rouge">numpy</code> functions to analyze data.</p>
</li>
	
	<li><p>Install a new python library using conda.</p>
</li>
	
	<li><p>Plot data to visualize results.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>Most scientists work with a lot of numerical data.  In this module we will focus on reading in and analyzing numerical data, visualizing the data, and working with arrays.</p>

<h2 id="reading-in-tabular-data">Reading in Tabular Data</h2>

<p>As we already discussed, there are many ways to read in data from files in python.  In our last module, we used the <code class="highlighter-rouge">readlines()</code> function to read in a complex output file.  In theory, you could always use the <code class="highlighter-rouge">readlines()</code> function, and then use the data parsing tools we learned in the previous module to format the data as you needed.  But sometimes there are other ways that make more sense, particularly if the data is (1) all or mostly one type of data (for example, all numbers) and/or (2) formatted in a table.  Frequently, a table will be mostly numbers, but have column or row labels.</p>

<p>A common table format is the CSV file or comma separated values.  This is exactly what it sounds like.  Data is presented in rows, with each value separated by a comma.  If you have data in a spreadsheet program that you need to import into a python code, you can save the data as a csvfile to read it in.</p>

<p>In this example, we have a CSV file that contains data from a molecular dynamics trajectory.  We have a 20 ns simulation that used a 2 fs timestep. The data was saved to the trajectory file every 1000 steps, so our file has 10,000 timesteps.  At each timestep, we are interested in the distance between particular atoms.  These trajectories were generated with the AMBER molecular dynamics program and the distances were measured with the python program MDAnalysis.  The table of atomic distances was saved as a CVS file.</p>

<p>In analyzing tabular data, we often need to perform the same types of calculations (averaging, calculating the minimum or maximum of the data set), so we are once again going to use a python <strong>library</strong>, this time a library that contains lots of functions to perform math operations. This library is called <code class="highlighter-rouge">numpy</code>.  The <code class="highlighter-rouge">numpy</code> library has several functions available to read in tabular data.  One of the most basic is the <code class="highlighter-rouge">genfromtxt()</code> function.  This function can take a large number of inputs, which you can find out more about <strong>__</strong>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>
<span class="n">distances</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s">'distance_data_headers.csv'</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">','</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">'unicode'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span>
</code></pre></div></div>
<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[['Frame' 'THR4_ATP' 'THR4_ASP' 'TYR6_ATP' 'TYR6_ASP']
 ['1' '8.9542' '5.8024' '11.5478' '9.9557']
 ['2' '8.6181' '6.0942' '13.9594' '11.6945']
 ...
 ['9998' '8.6625' '7.7306' '9.5469' '10.3063']
 ['9999' '9.2456' '7.8886' '9.8151' '10.7564']
 ['10000' '8.8135' '7.917' '9.9517' '10.7848']]
</code></pre></div></div>

<p>In the <code class="highlighter-rouge">genfromtxt()</code> function we provided three inputs, the filename, the delimiter (what is separating our values in the file), and what type of data we have.  The only one of these inputs you <em>must</em> include is the filename, but the more information you can give the function, the better it will usually work.  The datatype may seem a little confusing; since our table of data included headings, it is not all numbers so that is why we chose ‘unicode’ for our data type.  If we leave off the “dtype” input, then the headings won’t show up.  The output of this function is a list of lists; that is, each row is a entry in our list, but each row is itself a list of values.  We can see that the first row is our column headings and all the other rows contain numerical data.</p>

<p>If we were to read this in with the readlines() function, we would have to split each line of the file, use the <code class="highlighter-rouge">append</code> function to make a new list for each row, and THEN put all those lists together into a list of lists.  Using the appropriate <code class="highlighter-rouge">numpy</code> function makes our life much easier.</p>

<h2 id="manipulating-tabular-data">Manipulating Tabular Data</h2>

<p>Even now, we can see that our first line of data is headings for our columns, and will need to be stored as strings, whereas all the rest of the data is numerical and will need to be stored as floats.  Let’s take a slice of the data that is just the headers.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">headers</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div></div>
<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['Frame' 'THR4_ATP' 'THR4_ASP' 'TYR6_ATP' 'TYR6_ASP']
</code></pre></div></div>

<blockquote class="challenge">
  <h2 id="check-your-understanding">Check Your Understanding</h2>

  <p>Take a slice of the data that is just the numerical values.  To be uniform for later activities, call this slice data.</p>
  <blockquote class="solution">
    <h2 id="answer">Answer</h2>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="n">distances</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>    </div>
    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[['1' '8.9542' '5.8024' '11.5478' '9.9557']
 ['2' '8.6181' '6.0942' '13.9594' '11.6945']
 ['3' '9.0066' '6.0637' '13.0924' '11.3043']
 ...
 ['9998' '8.6625' '7.7306' '9.5469' '10.3063']
 ['9999' '9.2456' '7.8886' '9.8151' '10.7564']
 ['10000' '8.8135' '7.917' '9.9517' '10.7848']]
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<p>Even though we now have a list of lists that is just the numbers, the numbers are all still strings.  We know this because (1) we read them all in as unicode and (2) if we look at the output of the print statement, we can see that each number is enclosed in single quotes, indicating that it is a string.  We need to recast these values as floats.  The <code class="highlighter-rouge">numpy</code> library has a built-in function to accomplish this.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="nb">float</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>
<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[1.00000e+00 8.95420e+00 5.80240e+00 1.15478e+01 9.95570e+00]
 [2.00000e+00 8.61810e+00 6.09420e+00 1.39594e+01 1.16945e+01]
 [3.00000e+00 9.00660e+00 6.06370e+00 1.30924e+01 1.13043e+01]
 ...
 [9.99800e+03 8.66250e+00 7.73060e+00 9.54690e+00 1.03063e+01]
 [9.99900e+03 9.24560e+00 7.88860e+00 9.81510e+00 1.07564e+01]
 [1.00000e+04 8.81350e+00 7.91700e+00 9.95170e+00 1.07848e+01]]
</code></pre></div></div>

<p>We already learned how to address a particular element of a list and how to take a slice of a list to create a new list.  Now that we have an array, we now need two indices to address a particular element of the array.  The notation to address an element of the array is always</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">array_name</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">column</span><span class="p">]</span>
</code></pre></div></div>

<blockquote class="challenge">
  <h2 id="check-your-understanding-1">Check Your Understanding</h2>

  <p>What will be the output of these lines of code?</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</code></pre></div>  </div>

  <blockquote class="solution">
    <h2 id="answer-1">Answer</h2>

    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>8.9542
2.0
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<p>There you can also take two-dimensional slices of an array where you specify a range of rows and a range of columns for the slice.  For example, sometimes it is easier to work with a small subset of our data for testing rather than the full data set.  This command takes a slice that includes only the first ten rows and the first three columns of our data.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">small_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">small_data</span><span class="p">)</span>
</code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[ 1.      8.9542  5.8024]
 [ 2.      8.6181  6.0942]
 [ 3.      9.0066  6.0637]
 [ 4.      9.2002  6.0227]
 [ 5.      9.1294  5.9365]
 [ 6.      9.0462  6.2553]
 [ 7.      8.8657  5.9186]
 [ 8.      9.3256  6.2351]
 [ 9.      9.4184  6.1993]
 [10.      9.06    6.0478]]
</code></pre></div></div>

<p>Remember that counting starts at zero, so [0:10] means start at row zero and include all rows, up to but <em>not</em> including 10.  Just as with the one-dimensional list slices, if you don’t include a number before the <code class="highlighter-rouge">:</code> the slice automatically starts with <code class="highlighter-rouge">list_name[0]</code>.  If you don’t include a number after the <code class="highlighter-rouge">:</code> the slice goes to the end of the list.  Therefore, if you don’t include either, a <code class="highlighter-rouge">:</code> means <em>every row</em> or <em>every column</em>.</p>

<blockquote class="challenge">
  <h2 id="check-your-understanding-2">Check Your Understanding</h2>

  <p>What will be the output of these lines of code?</p>

  <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">small_data</span><span class="p">[</span><span class="mi">5</span><span class="p">,:])</span>
<span class="k">print</span><span class="p">(</span><span class="n">small_data</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:])</span>
</code></pre></div>  </div>

  <blockquote class="solution">
    <h2 id="answer-2">Answer</h2>
    <p>The first print statement selects one particular row and every column.</p>
    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[6.     9.0462 6.2553]
</code></pre></div>    </div>
    <p>The second print statement selects every row, and all the columns except the first one.</p>
    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[8.9542 5.8024]
 [8.6181 6.0942]
 [9.0066 6.0637]
 [9.2002 6.0227]
 [9.1294 5.9365]
 [9.0462 6.2553]
 [8.8657 5.9186]
 [9.3256 6.2351]
 [9.4184 6.1993]
 [9.06   6.0478]]
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<h2 id="analyzing-tabular-data">Analyzing Tabular Data</h2>

<p>The <code class="highlighter-rouge">numpy</code> library has numerous built-in functions.  For example, to calculate the average (mean) of a data set, the syntax is</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>data_average = numpy.mean(data_set)
</code></pre></div></div>
<blockquote class="challenge">
  <h2 id="exercise">Exercise</h2>

  <p>(Is this too hard for an exercise at this point?  Should this be an example?)</p>

  <p>Calculate the average of each row of data.  You don’t want to include the frame numbers in the average.  Make an new list of the average of each row.</p>

  <blockquote class="solution">
    <h2 id="solution">Solution</h2>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1">#Every row, all the columns except the first one
</span>
<span class="n">avg_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
   <span class="n">avg</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
   <span class="n">avg_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">avg</span><span class="p">)</span>
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<p>However, if you think about it, that exercise was silly because averaging the rows of this data doesn’t make sense; it gives the average of the four distances for a given frame in our simulation.  What makes a lot more sense is averaging each column of data; this would give us the average distance for a particular measurement over the whole simulation.</p>

<p>We can take a slice of our data array that is just one column.  (Note: this assumes we have already removed the frame numbers in the previous exercise.) Then we can find the average of that column.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">thr4_atp</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Every row, just the first column
</span><span class="n">avg_thr4_atp</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">thr4_atp</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">avg_thr4_atp</span><span class="p">)</span>
</code></pre></div></div>
<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>10.876950930000001
</code></pre></div></div>

<p>This is correct, but now we would like to calculate the average of <em>every</em> column.  This seems like a job for a <code class="highlighter-rouge">for</code> loop, but unlike last time, we don’t want to count over a particular list and do something for every item, we want to do something a particular number of times.  Basically, we want to take that <code class="highlighter-rouge">0</code> and let it be every number, up to the number of columns. This is a task for the <code class="highlighter-rouge">range()</code> function.  The general syntax is</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>range(start,end)
</code></pre></div></div>
<p>and we can use <code class="highlighter-rouge">range()</code> in a <code class="highlighter-rouge">for</code> loop.</p>

<p>In our example, the “end” value needs to be the number of columns of data.</p>

<blockquote class="challenge">
  <h2 id="check-your-understanding-3">Check Your Understanding</h2>
  <p>Determine the number of columns in our data set.  Save this value as a variable called num_columns.</p>

  <blockquote class="solution">
    <h2 id="answer-3">Answer</h2>

    <p>If I find the length of one of the rows, this is the number of columns.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">num_columns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,:])</span>  <span class="c1">#This calculates the number of columns
</span><span class="k">print</span><span class="p">(</span><span class="n">num_columns</span><span class="p">)</span>
</code></pre></div>    </div>

    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<p>Now that we know the number of columns, we can use the <code class="highlighter-rouge">range()</code> function to set up our <code class="highlighter-rouge">for</code> loop.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">avg_list</span> <span class="o">=</span> <span class="p">[]</span>  
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_columns</span><span class="p">):</span>
    <span class="n">column</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span>
    <span class="n">avg_col</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">column</span><span class="p">)</span>
    <span class="n">avg_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">avg_col</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">avg_list</span><span class="p">)</span>
</code></pre></div></div>
<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[10.876950930000001, 7.342344959999999, 11.209791329999998, 10.9934435]
</code></pre></div></div>

<p>Let’s improve our print statement to label each number.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_columns</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">F</span><span class="s">'{headers[i]} : {avg_list[i]}'</span><span class="p">)</span>
</code></pre></div></div>
<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Frame : 10.876950930000001
THR4_ATP : 7.342344959999999
THR4_ASP : 11.209791329999998
TYR6_ATP : 10.9934435
</code></pre></div></div>

<p>Wait!  That’s not right!  What is wrong with that output?  How can we fix it?</p>

<blockquote class="challenge">
  <h2 id="check-your-understanding-4">Check Your Understanding</h2>
  <p>Fix the print statement such that each average is displayed with the correct label.</p>

  <blockquote class="solution">
    <h2 id="answer-4">Answer</h2>
    <p>The problem is that we removed the frame numbers from our numerical data, but we didn’t remove “Frame” from the headers list.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">headers_noframe</span> <span class="o">=</span> <span class="n">headers</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_columns</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">F</span><span class="s">'{headers_noframe[i]} : {avg_list[i]}'</span><span class="p">)</span>
</code></pre></div>    </div>
    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>THR4_ATP : 10.876950930000001
THR4_ASP : 7.342344959999999
TYR6_ATP : 11.209791329999998
TYR6_ASP : 10.9934435
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<blockquote class="challenge">
  <h2 id="geometry-analysis-project">Geometry Analysis Project</h2>
  <p>In the lesson materials, you downloaded a file called “water.xyz”.  This is a very simple, standard file format that is often used to distribute molecular coordinates.  The first line of the file is the number of atoms in the molecule, the second line is a title line (or may be blank), and the coordinates begin on the third line.  The format of the coordinates is</p>
  <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Atom_Label  XCoor   YCoor   ZCoor
</code></pre></div>  </div>
  <p>and the default units (which are used in this example) are angstroms.</p>

  <p>Write a code to read in the information from the xyz file and determine the bond lengths between all the atoms.  Hint: there is a numpy function to take the square root, <code class="highlighter-rouge">numpy.sqrt()</code>. Your code output should look something like this.</p>
  <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>O to O : 0.0
O to H1 : 0.969
O to H2 : 0.969
H1 to O : 0.969
H1 to H1 : 0.0
H1 to H2 : 1.527
H2 to O : 0.969
H2 to H1 : 1.527
H2 to H2 : 0.0
</code></pre></div>  </div>

  <blockquote class="solution">
    <h2 id="solution-1">Solution</h2>
    <p>This is a solution that uses the <code class="highlighter-rouge">numpy.genfromtxt()</code> function to read in the data.  There are many other solutions possible.</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">xyz_file</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s">'water.xyz'</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">'unicode'</span><span class="p">)</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="n">xyz_file</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">coord</span> <span class="o">=</span> <span class="p">(</span><span class="n">xyz_file</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">coord</span> <span class="o">=</span> <span class="n">coord</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="nb">float</span><span class="p">)</span>

<span class="k">for</span> <span class="n">numA</span><span class="p">,</span> <span class="n">atomA</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coord</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">numB</span><span class="p">,</span> <span class="n">atomB</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coord</span><span class="p">):</span>
       <span class="n">bond_length_AB</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">atomA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">atomA</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="n">atomB</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">atomA</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
       <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="si">%</span><span class="s">s to </span><span class="si">%</span><span class="s">s : </span><span class="si">%.3</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">symbols</span><span class="p">[</span><span class="n">numA</span><span class="p">],</span> <span class="n">symbols</span><span class="p">[</span><span class="n">numB</span><span class="p">],</span> <span class="n">bond_length_AB</span><span class="p">)))</span>
</code></pre></div>    </div>

    <p>This is a solution that uses <code class="highlighter-rouge">readlines()</code>.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">xyzfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"water.xyz"</span><span class="p">,</span><span class="s">"r"</span><span class="p">)</span>
<span class="n">data</span><span class="o">=</span><span class="n">xyzfile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>

<span class="n">symbols</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="n">atom_data</span> <span class="o">=</span> <span class="n">atom</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">symbol</span> <span class="o">=</span> <span class="n">atom_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">symbols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">atom_data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">atom_data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">atom_data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">coordinates</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">z</span><span class="p">)])</span>

<span class="k">for</span> <span class="n">numA</span><span class="p">,</span> <span class="n">atomA</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coordinates</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">numB</span><span class="p">,</span> <span class="n">atomB</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coordinates</span><span class="p">):</span>
        <span class="n">bond_length_AB</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">atomA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">atomA</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">atomA</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="si">%</span><span class="s">s to </span><span class="si">%</span><span class="s">s : </span><span class="si">%.3</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">symbols</span><span class="p">[</span><span class="n">numA</span><span class="p">],</span> <span class="n">symbols</span><span class="p">[</span><span class="n">numB</span><span class="p">],</span> <span class="n">bond_length_AB</span><span class="p">))</span>
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<blockquote class="callout">
  <h2 id="variable-names">Variable Names</h2>

  <p>** This note (or similar) needs to be in one of the first episodes **
In our solution above, we called our bond length variable <code class="highlighter-rouge">bond_length_AB</code>. We could have called this variable anything we wanted. Consider the following two potential variable names for bond length - <code class="highlighter-rouge">BL_AB</code> and <code class="highlighter-rouge">bond_length_AB</code>. Which is more clear to you? While you might know what <code class="highlighter-rouge">BL</code> means, and it is possible for others to figure it out through context, it’s easier on others if you give your variables clear names.</p>
</blockquote>

<blockquote class="challenge">
  <h2 id="project-extension-1">Project Extension 1</h2>

  <p>Your initial project calculated the distance between every set of atoms.   However, some of these atoms aren’t really bonded to each other.  H1 and H2 are not bonded for example, and all of the distances between an atom and itself are zero.  Use a istance cutoff of 1.2 angstroms to define a bond (that is, if the bond length is greater than 1.2 angstroms, consider the atoms not bonded). Modify your code to only print the atoms that are actually bonded to each other.</p>

  <blockquote class="solution">
    <h2 id="solution-2">Solution</h2>

    <p>Add an <code class="highlighter-rouge">if</code> statement before your print statement.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">bond_length_AB</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">bond_length_AB</span> <span class="o">&lt;=</span> <span class="mf">1.3</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="si">%</span><span class="s">s to </span><span class="si">%</span><span class="s">s : </span><span class="si">%.3</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">symbols</span><span class="p">[</span><span class="n">numA</span><span class="p">],</span> <span class="n">symbols</span><span class="p">[</span><span class="n">numB</span><span class="p">],</span> <span class="n">bond_length_AB</span><span class="p">))</span>
</code></pre></div>    </div>

    <p>Your output should now be</p>
    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>O to H1 : 0.969
O to H2 : 0.969
H1 to O : 0.969
H2 to O : 0.969
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<blockquote class="challenge">
  <h2 id="project-extension-2">Project Extension 2</h2>
  <p>Some of these are actually the same bond length; for example, O to H1 and H1 to O refer to the same bond length.  Remove the duplicates from your list.  (This is by far the hardest extension to the project.)</p>

  <blockquote class="solution">
    <h2 id="solution-3">Solution</h2>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span>

<span class="n">xyz_file</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s">'water.xyz'</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">'unicode'</span><span class="p">)</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="n">xyz_file</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">coord</span> <span class="o">=</span> <span class="p">(</span><span class="n">xyz_file</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">coord</span> <span class="o">=</span> <span class="n">coord</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="nb">float</span><span class="p">)</span>

<span class="k">for</span> <span class="n">numA</span><span class="p">,</span> <span class="n">atomA</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coord</span><span class="p">):</span>
   <span class="k">for</span> <span class="n">numB</span><span class="p">,</span> <span class="n">atomB</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coord</span><span class="p">):</span>
       <span class="k">if</span> <span class="n">numB</span> <span class="o">&gt;</span> <span class="n">numA</span><span class="p">:</span>
           <span class="n">bond_length_AB</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">atomA</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">atomA</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span> <span class="n">atomB</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="n">atomA</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">atomB</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
           
           <span class="k">if</span> <span class="n">bond_length_AB</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">bond_length_AB</span> <span class="o">&lt;=</span> <span class="mf">1.3</span><span class="p">:</span>
               <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="si">%</span><span class="s">s to </span><span class="si">%</span><span class="s">s : </span><span class="si">%.3</span><span class="s">f"</span> <span class="o">%</span><span class="p">(</span><span class="n">symbols</span><span class="p">[</span><span class="n">numA</span><span class="p">],</span> <span class="n">symbols</span><span class="p">[</span><span class="n">numB</span><span class="p">],</span> <span class="n">bond_length_AB</span><span class="p">))</span>         
</code></pre></div>    </div>
    <p>For this solution, we’ve</p>

    <p>Now your output should be</p>
    <div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>O to H1 : 0.969
O to H2 : 0.969
</code></pre></div>    </div>
  </blockquote>
</blockquote>

<blockquote class="challenge">
  <h2 id="project-extension-3">Project Extension 3</h2>
  <p>Write a your output to a text file called bond_lengths.txt instead of just printing it to the screen.</p>

  <blockquote class="solution">
    <h2 id="solution-4">Solution</h2>

    <p>Somewhere outside of your <code class="highlighter-rouge">for</code> loop, open the file for writing.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BLfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'bond_lengths.txt'</span><span class="p">,</span><span class="s">'w+'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>Then inside your loop change your <code class="highlighter-rouge">print</code> statement to a <code class="highlighter-rouge">BLfile.write()</code> statement.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BLfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">F</span><span class="s">'{symbols[numA]} to {symbols[numB]} : {BL_AB}</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>Don’t forget to close the file at the end of your code.</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BLfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>      <span class="c1">#Close the file so it will write
</span></code></pre></div>    </div>
  </blockquote>
</blockquote>



<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>If you are reading in a file that is mostly numerical data, there are better ways to read in the data than using <code class="highlighter-rouge">readlines()</code>.</p>
</li>
    
    <li><p>The notation to refer to a particular element of an array is ‘array_name[row,column]’.</p>
</li>
    
    <li><p>Typically, you should not write a function to perform a standard math operation. The function probably already exists in <code class="highlighter-rouge">numpy</code>.</p>
</li>
    
  </ul>
</blockquote>

</article>
















<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../03-multiple_files/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../05-plotting/index.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>


      
      
<footer>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
        Copyright &copy; 2018–2019
	<a href="http://molssi.org">The Molecular Sciences Software Institute</a>
    </div>
    <div class="col-md-6 help-links" align="right">
	
	<a href="/edit/gh-pages/_episodes/04-tabular_data.md">Edit on GitHub</a>
	
	/
	<a href="/blob/gh-pages/CONTRIBUTING.md">Contributing</a>
	/
	<a href="/">Source</a>
	/
	<a href="/blob/gh-pages/CITATION">Cite</a>
	/
	<a href="mailto:education@molssi.org">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/carpentries/styles/">The Carpentries style</a>
      version <a href="https://github.com/carpentries/styles/releases/tag/v9.5.0">9.5.0</a>.
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
